---
categories:
  - python
  - 基础篇
date: 2022-01-27 19:54:36
tags:
  - python
title: python-面向对象和生成器、迭代器
---

# 面向对象基础

## 建立一个类

### 类的基本语法

```python
class TestClass:
    def __init__(self):
        print("这是init方法")
```

这是一个最基本的类,有`__init__方法`
<Note type="info">
类名必须使用**大驼峰命名法**,即所有的单词首字母大写
</Note>
类的基本语法：

```python
class 类名:
    函数
```

### 对象函数

在python中,像`__init__`这样前后都有双下划线的叫**魔法方法**
例如`__init__`就是在方法实例化时调用
一般来说,实例化方法用于建立变量,举个栗子：

```python
class TestClass:
    def __init__(self, value):
        self.value = value
        print("实例化完成")
```

这样实例就有了value变量,类内可以通过`self.value调用`,类外使用`实例名.value`访问 \
定义一个非魔法对象方法：

```python
def 函数名(self,参数):
    语句
```

`self`就是调用对象,可以使用self调用类内方法或变量
<Note type="info">
类内直接写代码会直接执行,必须使用函数括起来
</Note>

## 实例化

写个狗的类!!只会吃和睡就离谱!!

```python
class Dog:
    def __init__(self, name):
        self.name = name

    def eat(self):
        print(f"{self.name}正在吃")

    def sleep(self):
        print(f"{self.name}正在睡")

    def __str__(self):
        return f"{self.name}是一只狗"
```

然后实例化Dog类

```python
doge = Dog("doge")
doge.eat()
doge.sleep()
print(doge)
# 输出:doge正在吃
# doge正在睡
# doge是一只狗
```

实例化语法`变量 = 类名(参数)`
`doge.eat()`就是调用了对象方法`eat()`
方法内使用了`self.name`作为名字
`print(doge)`是调用了对象的`__str__`方法
<Note type="info">
**str**必须**返回**一个**字符串**
</Note>

## 私有变量与方法

python的类(对象)变量分为以下三大类:

- `private` 使用`__`开头且不使用`__`结尾的方法或变量,只能在类内部调用
- `protected` 使用`_`开头的方法或变量,可以在同文件内访问,但是无法`import`导入
- `public` 正常的方法名,可以用`import`导入

<Note type="info">
python的私有是伪私有,假设类A下有私有变量**s,实际上python只是把它的名称
变成了`\_A**s`,使用`类(实例).\_A\_\_s`即可访问
</Note>
<Note type="info">
面向对象大部分会在第9篇讲,这一段就是基础中的基础
</Note>
